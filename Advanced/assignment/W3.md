# **ğŸ“Œ Week 3: CASEë¬¸ & ë¹„êµ, ë…¼ë¦¬ ì—°ì‚°ì í™œìš©**

---

### **1ï¸âƒ£ ì£¼ìš” ê°œë…**

- **CASEë¬¸ & ë…¼ë¦¬ ì—°ì‚°ì í™œìš©**:
    - `CASE WHEN`
    - `IF()`, `IFNULL()`, `NULLIF()`
    - `COALESCE()`

---

### **âœ… CASEë¬¸ & ë…¼ë¦¬ ì—°ì‚°ì í•™ìŠµ ë° ë¬¸ì œ í’€ì´**

ğŸ“– **ê³µì‹ ë¬¸ì„œ ì°¸ê³ **:

- ğŸ”— [MySQL ê³µì‹ ë¬¸ì„œ - íë¦„ì œì–´í•¨ìˆ˜](https://dev.mysql.com/doc/refman/8.4/en/flow-control-functions.html)

- ğŸ”— [MySQL ê³µì‹ ë¬¸ì„œ - ë¹„êµ, ë…¼ë¦¬ì—°ì‚°ì](https://dev.mysql.com/doc/refman/8.4/en/comparison-operators.html)

#### ê³µì‹ ë¬¸ì„œ ë‚´ìš©

- 14.5 Flow Control Functions

    |í•¨ìˆ˜|ì„¤ëª…|
    |-|-|
    |CASE|CASE ì—°ì‚°ì|
    |IF( )|IF/ELSE êµ¬ë¬¸|
    |IFNULL( )|NULL IF/ELSE êµ¬ë¬¸|
    |NULLIF( )|expr1 = expr2ì¼ ê²½ìš° NULL ë°˜í™˜|

    ```SQL
    CASE

    - CASE ì—°ì‚°ì ë¬¸ë²•ì€ Section 15.6.5.1 "CASE Statement"ì— ë‚˜ì˜¤ëŠ” CASE êµ¬ë¬¸ê³¼ ë‹¤ë¦„

    - CASE êµ¬ë¬¸ì€ ELSE NULLì ˆì„ ê°€ì§ˆ ìˆ˜ ì—†ìœ¼ë©°, END ëŒ€ì‹  END CASEë¡œ ì¢…ë£Œë¨
    ```
    ```SQL
    IFNULL(expr1, expr2)
    : expr1ì´ NULLì´ ì•„ë‹ˆë©´ expr1ì„ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ expr2ë¥¼ ë°˜í™˜

    -- ì˜ˆì‹œ
    
    SELECT 
        IFNULL(1, 0)
        -> 1

    SELECT 
        IFNULL(NULL, 10)
        -> 10

    SELECT 
        IFNULL(1/0, 10)
        -> 10

    SELECT 
        IFNULL(1/0, 'yes')
        -> 'yes'
    ```
    ```SQL
    NULLIF(expr1, expr2)
    : expr1 = expr2ê°€ ì°¸ì´ë©´ NULLì„ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ expr1ì„ ë°˜í™˜
    
    = CASE 
        WHEN expr1 = expr2 THEN NULL 
        ELSE expr1 
      END

    -- ì˜ˆì‹œ

    SELECT 
        NULLIF(1, 1)
        -> NULL

    SELECT 
        NULLIF(1, 2)
        -> 1
    ```

- 14.4.2 Comparison Functions and Operators

    |í•¨ìˆ˜|ì„¤ëª…|
    |-|-|
    |<=>|NULL-safe equal ì—°ì‚°ì|
    |EXISTS( )|ì¿¼ë¦¬ ê²°ê³¼ì— í–‰ì´ ìˆëŠ”ì§€ ì—¬ë¶€ í™•ì¸|
    |GREATEST( )|ê°€ì¥ í° ì¸ìˆ˜ ë°˜í™˜|
    |INTERVAL( )|ì²« ë²ˆì§¸ ì¸ìˆ˜ë³´ë‹¤ ì‘ì€ ì¸ìˆ˜ì˜ ì¸ë±ìŠ¤ ë°˜í™˜|
    |LEAST( )|ê°€ì¥ ì‘ì€ ì¸ìˆ˜ ë°˜í™˜|
    |NOT EXISTS( )|ì¿¼ë¦¬ ê²°ê³¼ì— í–‰ì´ ì—†ëŠ”ì§€ ì—¬ë¶€ í™•ì¸|
    |STRCMP( )|ë‘ ë¬¸ìì—´ ë¹„êµ|

    ```SQL
    <=> (NULL-safe equal)
    : = ì—°ì‚°ìì²˜ëŸ¼ ë™ì‘í•˜ì§€ë§Œ, ë‘ í”¼ì—°ì‚°ìê°€ ëª¨ë‘ NULLì¸ ê²½ìš°ì—ëŠ” 1ì„ ë°˜í™˜í•˜ê³ , í•œ í”¼ì—°ì‚°ìê°€ NULLì´ë©´ 0ì„ ë°˜í™˜

    -- ì˜ˆì‹œ

    SELECT 
        1 <=> 1, 
        NULL <=> NULL, 
        1 <=> NULL;
        -> 1, 1, 0

    SELECT 
        1 = 1, 
        NULL = NULL, 
        1 = NULL;
        -> 1, NULL, NULL

    - í–‰ ë¹„êµì˜ ê²½ìš°, (a, b) <=> (x, y)ëŠ” (a <=> x) AND (b <=> y)ì™€ ë™ì¼í•¨
    ```
    ```SQL
    <=

    - í–‰ ë¹„êµì˜ ê²½ìš°, (a, b) <= (x, y)ëŠ” (a < x) OR ((a = x) AND (b <= y))ì™€ ë™ì¼

    <
    
    - í–‰ ë¹„êµì˜ ê²½ìš°, (a, b) < (x, y)ëŠ” (a < x) OR ((a = x) AND (b < y))ì™€ ë™ì¼
    ```
    ```SQL
    GREATEST()

    -- ì˜ˆì‹œ
    
    SELECT 
        GREATEST(34.0,3.0,5.0,767.0)
        -> 767.0

    SELECT 
        GREATEST('B','A','C')
        -> 'C'

    - GREATEST()ëŠ” ì¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¼ë„ NULLì´ë©´ NULLì„ ë°˜í™˜
    ```
    ```SQL
    INTERVAL()
    : ì²« ë²ˆì§¸ ê°’ì´ ë‚˜ì—´ëœ ê°’ë“¤ ì¤‘ ì–´ë””ì— í•´ë‹¹í•˜ëŠ”ì§€ë¥¼ ì°¾ê³ , ê·¸ ê°’ì˜ **ì¸ë±ìŠ¤(ìˆœì„œ)**ë¥¼ ë°˜í™˜

    -- ì˜ˆì‹œ

    SELECT 
        INTERVAL(23, 1, 15, 17, 30, 44, 200)
        -> 3
    
    : 23ì€ 17ê³¼ 30 ì‚¬ì´ì— ìˆìœ¼ë¯€ë¡œ 3ì„ ë°˜í™˜

    SELECT 
        INTERVAL(10, 1, 10, 100, 1000)
        -> 2

    SELECT 
        INTERVAL(22, 23, 30, 44, 200)
        -> 0
    ```

### ğŸ“ **ë¬¸ì œ í’€ì´**:

ğŸ”— [HackerRank - ì‚¼ê°í˜• ì¢…ë¥˜ ë¶„ë¥˜í•˜ê¸°](https://www.hackerrank.com/challenges/what-type-of-triangle/problem) `CASEë¬¸`

ğŸ“ë¬¸ì œ ë‚´ìš©

Write a query identifying the type of each record in the TRIANGLES table using its three side lengths. Output one of the following statements for each record in the table:
- Equilateral: It's a triangle with  sides of equal length.
- Isosceles: It's a triangle with  sides of equal length.
- Scalene: It's a triangle with  sides of differing lengths.
- Not A Triangle: The given values of A, B, and C don't form a triangle.

ğŸ“ë¬¸ì œ í’€ì´

```SQL
SELECT
    CASE
        WHEN A + B <= C OR A + C <= B OR B + C <= A THEN 'Not A Triangle'
        WHEN A = B AND B = C THEN 'Equilateral'
        WHEN A = B OR B = C OR C = A THEN 'Isosceles'
        ELSE 'Scalene'
    END
FROM TRIANGLES
```

---

ğŸ”— [LeetCode - find-customer-referee](https://leetcode.com/problems/find-customer-referee/description/) `IS NULL`

ğŸ“ë¬¸ì œ ë‚´ìš©

Find the names of the customer that are not referred by the customer with id = 2.

Return the result table in any order.

The result format is in the following example.

ğŸ“ë¬¸ì œ í’€ì´

```SQL
SELECT
    name
FROM Customer
WHERE
    referee_id IS NULL 
    OR referee_id <> 2
```